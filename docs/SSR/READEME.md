# SSR

## SSR 的优点

### 更利于 SEO

不同爬虫工作原理类似，只会爬取源码，不会执行网站的任何脚本（Google 除外，据说 Googlebot 可以运行 javaScript）。使用了 Vue 或者其它 MVVM 框架之后，页面大多数 DOM 元素都是在客户端根据 js 动态生成，可供爬虫抓取分析的内容大大减少。另外，浏览器爬虫不会等待我们的数据完成之后再去抓取我们的页面数据。服务端渲染返回给客户端的是已经获取了异步数据并执行 JavaScript 脚本的最终 HTML，网络爬中就可以抓取到完整页面的信息。

### 更利于首屏渲染

首屏的渲染是 node 发送过来的 html 字符串，并不依赖于 js 文件了，这就会使用户更快的看到页面的内容。尤其是针对大型单页应用，打包后文件体积比较大，普通客户端渲染加载所有所需文件时间较长，首页就会有一个很长的白屏等待时间。

## SSR 的局限

### 服务端压力较大

本来是通过客户端完成渲染，现在统一到服务端 node 服务去做。尤其是高并发访问的情况，会大量占用服务端 CPU 资源

### 开发条件受限

在服务端渲染中，created 和 beforeCreate 之外的生命周期钩子不可用，因此项目引用的第三方的库也不可用其它生命周期钩子，这对引用库的选择产生了很大的限制

### 学习成本相对较高

除了对 webpack、Vue 要熟悉，还需要掌握 node、Express 相关技术。相对于客户端渲染，项目构建、部署过程更加复杂

### 维护困难

报错的排查和统计变得困难，不方便定位出错的问题。尤其是内存泄漏等问题十分的难受

## links

- [解密 Vue SSR](https://juejin.im/post/5b063962f265da0ddb63dac3)
