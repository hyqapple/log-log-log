# 懒加载和预加载

## 懒加载

懒加载也叫延迟加载，指的是在长网页中延迟加载图像，是一种很好优化网页性能的方式。

- 能提升用户的体验
- 减少无效资源的加载
- 防止并发加载的资源过多会阻塞 js 的加载

首先将页面上的图片的 src 属性设为空字符串，而图片的真实路径则设置在 data-original 属性中，
当页面滚动的时候需要去监听 scroll 事件，在 scroll 事件的回调中，判断我们的懒加载的图片是否进入可视区域,如果图片在可视区内将图片的 src 属性设置为 data-original 的值，这样就可以实现延迟加载。

## 预加载

预加载简单来说就是将所有所需的资源提前请求加载到本地，这样后面在需要用到时就直接从缓存取资源。

### 实现预加载的几种办法

```html
<img
  src="http://pic26.nipic.com/20121213/6168183 0044449030002.jpg"
  style="display:none"
/>
```

```js
var image = new Image()
image.src = 'http://pic26.nipic.com/20121213/6168183 004444903000 2.jpg'
```

两者都是提高页面性能有效的办法，两者主要区别是一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预加载则会增加服务器前端压力。

## links

- [懒加载和预加载](https://juejin.im/post/5b0c3b53f265da09253cbed0)
